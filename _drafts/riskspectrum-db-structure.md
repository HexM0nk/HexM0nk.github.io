---
layout: post
title: "Структура БД RiskSpectrum"
author: HexQuant
tags: ВАБ RiskSpectrum Python
---

Основополагающим принципом базы данных программы RiskSpectrum PSA является следующее положение: Все объекты (базовые события, операторы, параметры и т.д.) в базе данных RiskSpectrum хранятся в единственном экземпляре и имеют внутренние уникальные коды, на которые и ссылаются все другие объекты. 

Идентификатор – это такой же атрибут объекта, как и, например, его описание. Так как реально в качестве ссылки на объект из других объектов хранится его внутренний код, а не идентификатор, при изменении идентификатора ссылка не теряется, но во всех объектах, которые ссылаются на данный, мы увидим, что идентификатор также изменился. Это обстоятельство имеет ряд следствий:
* В ДО и ДС при добавлении новых базовых событий нельзя взять имеющееся и изменить его идентификатор, так как во всех других ДО и ДС, ссылающихся на данное базовое событие, идентификатор также изменится.
* При необходимости изменения идентификатора базового события (или другого объекта), на который ссылаются несколько ДО или ДС, достаточно изменить этот идентификатор в одном произвольном месте.
* Доступ к любому объекту обеспечивается из любого места, где есть возможность выбора его идентификатора из списка двукратным нажатием мышки на идентификаторе.

Идентификаторы объектов могут иметь длину не более 20 символов, а идентификаторы групп ООП - не более 16. Описания объектов могут иметь длину не более 100 символов. Комментарии могут содержать до 32Кб

## Подключение к БД RiskSpectrum
```python
import pyodbc
cnxn = pyodbc.connect(driver='{SQL Server}',
                      server='.\RISKSPEC_PSA2012',
                      database='<Имя БД>',
                      uid='sa',
                      pwd='82sbDiF%5_2&33d%hvTP!4')

cursor = cnxn.cursor()
cursor.execute('<Ваш SQL код>')
```
### Параметры для подключения
RiskSpectrum 1.3+:
* server=".\RISKSPEC_PSA2012"
* uid="sa"
* pwd="82sbDiF%5_2&33d%hvTP!4"
RiskSpectrum 1.2:
* server=".\RISKSPEC2008"
* uid="sa"
* pwd="82sbDiF%5_2&33d%hvTP!4"

## Структура БД
### Деревья отказов
Базоваия таблица: '''FT'''

### Деревья событий
### Исходные события
### Функциональные события
Заголовки деревьев событий
### Аварийные последовательности
### Конечные состояния
В рамках ВАБ-1 определены 2 конечных состояния: CD (повреждение активной зоны) и  OK (успешное завершение аварийной последовательности)
### Базовые события
Отказы оборудования, ошибки персонала и события вывода в ремонт или обслуживания. Длина идентификатора не более 20 символов 
### Операторы
### Постулированные события
Базовые события, вероятность которых может принимать 2 значения – 0 или 1.
### Шаблоны
Объекты, при помощи которых вновь создаваемым базовым событиям, исходя из анализа их идентификаторов, автоматически назначаются некоторые параметры
### Группы ООП
Объекты (длина наименования не более 16 символов), для которых указываются базовые события, к ним относящиеся. 
### Базовые события ООП
Автоматически генерируемые события, включающие одновременные отказы нескольких единиц оборудования
### Деревья отказов ООП
Деревья отказов, автоматически генерируемые для каждого базового события, включенного в какую либо группу ООП.
### Операторы ООП
Операторы из деревьев отказов ООП
### Параметры
Объекты, содержащие численные значения, используемые при квантификации моделей. Параметры базовых событий являются такими же объектами, как и, например, базовые события, то есть имеют идентификатор и параметры. То есть при вводе базового события, параметры которого отличаются от уже имеющихся в базе данных, необходимо создать новый объект-параметр и присвоить его полям значения.
### Атрибуты
Объекты, при помощи которых можно анализировать влияние различных групп базовых событий на конечный результат квантификации. Каждому базовому событию можно присвоить несколько атрибутов
### Компоненты
Объекты, объединяющие несколько базовых событий, относящихся к одной единице оборудования
### Системы
Объекты, объединяющие компоненты, входящие в одну систему
### Группы базовых событий
Объекты, при помощи которых можно анализировать влияние различных групп базовых событий на конечный результат квантификации. Каждое базовое событие может содержаться только в одной группе
### Варианты анализа ДО
Объект, определяющий параметры сеанса квантификации дерева отказов
### Варианты анализа АП
Объект, определяющий параметры сеанса квантификации аварийной последовательности
### Варианты анализа конечных состояний
Объект, определяющий параметры сеанса квантификации конечного состояния
### Группы вариантов анализа
Объект, позволяющий выполнить в пакетном режиме несколько сеансов квантификации с заданными параметрами
### Спецификации анализа минимальных сечений
Объект, определяющий параметры процесса анализа минимальных сечений для сеанса квантификации 
### Спецификации анализа неопределенности
Объект, определяющий параметры процесса анализа неопределенности для сеанса квантификации 
### Спецификации анализа значимости
Объект, определяющий параметры процесса анализа значимости для сеанса квантификации 
### Спецификации анализа временных зависимостей
Объект, определяющий параметры процесса анализа временных зависимостей для сеанса квантификации 
### Наборы граничных условий
Набор значений постулированных событий, и/или изменений параметров базовых событий или операторов
### Комментарии
Текст свободной формы и практически неограниченных размеров
### Пользователи
Используются для идентификации создателей и редакторов любых перечисленных объектов
